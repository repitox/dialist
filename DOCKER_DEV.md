# üê≥ Docker —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è Dialist

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
make start
# –∏–ª–∏
./docker/start.sh
# –∏–ª–∏
docker-compose up --build -d
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: **http://localhost:3000**

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make start` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç |
| `make stop` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å |
| `make logs` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ |
| `make status` | –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |
| `make shell` | –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `make clean` | –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ |

## üîß –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Live Reload
–§–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
- `index.html` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `styles.css` - —Å—Ç–∏–ª–∏
- `script.js` - JavaScript –∫–æ–¥

–ü—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ!

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Docker:
```
/usr/share/nginx/html/
‚îú‚îÄ‚îÄ index.html      # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ styles.css      # –°—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ script.js       # JavaScript
‚îú‚îÄ‚îÄ README.md       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ images/         # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
‚îî‚îÄ‚îÄ assets/         # –†–µ—Å—É—Ä—Å—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞:
```bash
# –õ–æ–≥–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
make logs

# –õ–æ–≥–∏ –≤ —Ñ–∞–π–ª–∞—Ö
ls docker/logs/

# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
make shell
```

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É

- **–û—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç**: http://localhost:3000
- **–°—Ç–∞—Ç—É—Å Nginx**: http://localhost:3000/nginx-status (—Ç–æ–ª—å–∫–æ —Å localhost)

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Ä—Ç **3000**. –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å:

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `docker-compose.yml`:
   ```yaml
   ports:
     - "8080:80"  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω—É–∂–Ω—ã–π –ø–æ—Ä—Ç
   ```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   make restart
   ```

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

- **Nginx Alpine** - –ª–µ–≥–∫–∏–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **Curl** - –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **Nano** - —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
- **Bash** - —É–¥–æ–±–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞

## üîç –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
make build
```

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000
lsof -i :3000

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make stop

# –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç –≤ docker-compose.yml
```

### –§–∞–π–ª—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è:
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
make restart

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
docker-compose exec dialist-web ls -la /usr/share/nginx/html/
```

## üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ó–∞–ø—É—Å–∫ —Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å Node.js –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º
docker-compose --profile tools up -d

# –í–æ–π—Ç–∏ –≤ Node.js –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec dialist-tools sh
```

### –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx:
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `docker/nginx.conf` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:
1. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø—Ä–æ–µ–∫—Ç
2. –û–±–Ω–æ–≤–∏—Ç–µ `docker-compose.yml` –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ: `make restart`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker stats dialist-dev

# –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞
docker images | grep dialist
```

### –õ–æ–≥–∏ Nginx:
```bash
# –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
tail -f docker/logs/access.log

# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -f docker/logs/error.log
```

## üßπ –û—á–∏—Å—Ç–∫–∞

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å:
```bash
make clean
```

### –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑—ã
docker rmi $(docker images -q dialist*)

# –û—á–∏—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
docker system prune -f
```

## üí° –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ make –∫–æ–º–∞–Ω–¥—ã** - –æ–Ω–∏ –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏** - `make logs` –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - `make restart`
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ shell –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏** - `make shell`

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Docker Compose –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://docs.docker.com/compose/)
- [Nginx –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://nginx.org/ru/docs/)
- [Docker –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏](https://docs.docker.com/develop/dev-best-practices/)